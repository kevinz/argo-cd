<!-- TRANSLATED by md-translate -->
# 关于 ArgoCD 的错误分流建议

## 情况

我们的问题跟踪器上有很多问题。 其中很多不是错误，而是问题，或者与环境密切相关。 很容易疏忽。

另外，哪些 Bug 是重要的也不明显。 哪些 Bug 应该先修复？ 我们可以用目前的未修复 Bug 清单来发布新版本吗？ 还有哪些 Bug 应该进入新版本？

## 建议

我们应该商定一个共同的问题分流流程，该流程必须精简、高效，并应支持我们和查看 GH 问题跟踪器的社区做出以下决定：

* 它是一个真正的错误吗？
* 如果是一个真正的错误，那么该错误的当前状态是什么（是 "打开 "还是 "关闭"）？
* 修复该错误有多重要？
* 修复该错误的紧迫性如何？
* 谁将负责修复该错误？

我们需要新的方法来对我们的错误进行分类，至少要分为这几类：

* 有效性：问题是否确实代表一个真正的错误
* 严重性：表示错误造成的影响
* 优先级：表示修复的紧迫性

## 分流过程

GH 问题跟踪器为我们提供了给问题贴标签的可能性。 使用这些标签并不完美，但应该是一个良好的开端。 在我们的问题跟踪器中创建的每个新问题都应该在其生命周期内被正确地贴上标签，因此，如果能对标签进行过滤，就能简化概览。

分流流程如下

1.有人在跟踪器上创建了一个新的错误问题
2.核心团队中第一个看到它的人就会开始分流，将问题分类（见下文）。
问题（见下文）。这将向创建者表明我们已经注意到该问题
问题，而且这不是一个 "一烧了之 "的跟踪器。
3.即使有很多信息还不清楚，也可以进行初步分类。
在这种情况下，问题将被归类为在这种情况下，问题将被分类为此类（见下文）。
这再次表明，有人已经注意到了这个问题，并且有活动
正在获取所需信息。
4.在问题的生命周期中，问题的分类可能会发生变化。但是，一旦
问题的分类可以在其生命周期内发生变化。
的 "占位符 "分类）后，对分类的更改
应首先与最初对问题进行分类的人员进行讨论。

## 分类

我们在 GH 问题跟踪器中引入了一些新标签，用于对错误问题进行分类。 这些标签以字符串 `bug/` 为前缀，应适用于跟踪器中的所有新问题。

### 分级需要更多信息

如果还无法对错误进行分类，即需要更多信息才能对错误进行正确分类，则应始终设置标签 "bug/in-triage"，以明确指出分流过程已经开始但尚未完成。

### 问题类型

如果一个错误问题显然不是一个错误，而是一个问题或寻求支持的请求，则应将其标记为 "错误"：

* 删除可能附加到问题上的任何前缀为 `bug/` 的标签
* 从问题中移除标签 "bug
* 将标签 "查询 "添加到问题中

如果查询结果是文件应涵盖但未涵盖的内容，则应采取以下措施：

* 应调整问题的标题，使其明确错误影响的是文档而非代码
* 问题应附加 "文档 "标签

如果问题过于混乱（有可能发生），另一种可能是关闭问题，然后如上文所述创建一个新问题（用一个有意义的标题并附加 "文档 "标签）。

### 有效性

有些报告的错误可能是无效的。 它可能是用户错误、配置错误或类似的错误。 如果很明显该错误属于这些类别之一：

* 移除可能附加到问题上的任何前缀为 `bug/` 的标签
* 为问题添加 "无效 "标签
* 保留问题的 "bug "标签
* 关闭问题

关闭问题时，重要的是让请求者知道问题被关闭的原因。 最好的办法是在问题的注释中针对他的请求提供解决方案，或至少提供可能的解决方案。

#### 回归

有时会出现这样的情况：在以前的发布版本中可以正常工作的东西，现在却不能正常工作了。 如果出现这种情况，应采取以下措施

* 在问题上添加 "回归 "标签
* 继续分流

### 严重程度

为此，我们的跟踪器中存在以下标签：

* bug/severity:minor`：错误的影响有限，可能只影响一个
边缘情况。核心功能不受影响，也不涉及数据丢失。
涉及。某些功能可能无法按预期运行。这类
例如，CLI 命令无法按预期运行、用户界面出现故障、文档错误等。
用户界面中的故障、错误的文档等。
* bug/severity:major`：核心组件之一出现故障，影响
大部分用户或 ArgoCD 的核心功能之一。不涉及
不涉及数据丢失，但例如由于 ArgoCD 中的一个错误而导致同步无法工作（而不是由于 ArgoCD 中的一个错误而导致同步无法工作）。
配置清单无法渲染等。
* bug/severity:critical`：ArgoCD 中的严重错误，可能导致
数据丢失、完整性破坏或整体功能严重降级。

### 优先级

一个问题的优先级表示该问题应多快得到修复和发布。 这些信息应有助于我们决定修复的目标发布版本，以及一个错误是否需要专门的补丁发布。 以下标签可被引用来划分错误的优先级：

* bug/priority:low`：将在没有任何特定目标发布的情况下修复。
* bug/priority:medium`：应在次发行版或主要发行版中修复，无论哪一个
先修复。
* 错误/优先级:高"：应在下一个补丁发布时修复。
* 错误/优先级:紧急"：应立即修复，甚至可能需要
专门发布补丁。

优先级应根据修复的价值和所附的严重性来设定。 这意味着，当一个严重性为 "轻微 "的错误属于 "低垂的果实"（即该错误很容易修复且工作量较小）并对 ArgoCD 的整体用户体验有贡献时，仍可将其归类为优先级 "高"。

同样，如果一个严重程度为 "重大 "的错误有可用的解决方法，可将该错误的影响减轻到可承受的程度，那么该错误的优先级仍可为 "中等"。

严重性为 "critical "的错误很可能属于 "urgent "优先级，或者在有可用的解决方法时属于 "high "类别。

附加了 "回归 "标签（参见上文的 "回归"）的 Bug 通常应以更高的优先级处理，因此这类问题的优先级很可能是 "高 "或 "紧急"。

## 摘要

在使用问题跟踪器时，如果能应用一点纪律性，将极大地帮助我们做出明智的决定，决定何时修复哪些错误。 此外，它还能帮助我们清楚地了解，我们是否可以在不遗忘任何应发布的未决问题的情况下，发布一个新的次要版本。

如果我们能够对错误问题进行分类，我们可能也想扩展自增强建议和 PR 的分流。